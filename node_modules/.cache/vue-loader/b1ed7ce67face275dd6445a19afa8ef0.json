{"remainingRequest":"/home/donpiano/running-dinner-solver/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/donpiano/running-dinner-solver/src/components/Assignments.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/donpiano/running-dinner-solver/src/components/Assignments.vue","mtime":1575236572509},{"path":"/home/donpiano/running-dinner-solver/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/donpiano/running-dinner-solver/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/donpiano/running-dinner-solver/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/donpiano/running-dinner-solver/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IExNYXAsIExUaWxlTGF5ZXIsIExNYXJrZXIsIExUb29sdGlwLCBMUG9seWxpbmUgfSBmcm9tICJ2dWUyLWxlYWZsZXQiOwppbXBvcnQgeyBnbG9iYWxGdW5jdGlvbnMgfSBmcm9tICIuL21peGlucy9nbG9iYWxGdW5jdGlvbnMiOwppbXBvcnQgeyBhc3NpZ25tZW50SW5pdGlhbGl6ZXIgfSBmcm9tICIuL21peGlucy9hc3NpZ25tZW50SW5pdGlhbGl6ZXIiOwppbXBvcnQgeyBhc3NpZ25tZW50T3B0aW1pemVycyB9IGZyb20gIi4vbWl4aW5zL2Fzc2lnbm1lbnRPcHRpbWl6ZXJzIjsKaW1wb3J0IHsgYXNzaWdubWVudFN0YXRzIH0gZnJvbSAiLi9taXhpbnMvYXNzaWdubWVudFN0YXRzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXNzaWdubWVudHMiLAogIGNvbXBvbmVudHM6IHsKICAgIExNYXAsCiAgICBMVGlsZUxheWVyLAogICAgTE1hcmtlciwKICAgIExUb29sdGlwLAogICAgTFBvbHlsaW5lCiAgfSwKICBtaXhpbnM6IFsKICAgIGFzc2lnbm1lbnRJbml0aWFsaXplciwKICAgIGdsb2JhbEZ1bmN0aW9ucywKICAgIGFzc2lnbm1lbnRPcHRpbWl6ZXJzLAogICAgYXNzaWdubWVudFN0YXRzCiAgXSwKICBjb21wdXRlZDogewogICAgdXNlZEtpdGNoZW5zOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuY3N2LmZpbHRlcih4ID0+IHsKICAgICAgICByZXR1cm4geC5rw7xjaGVCZW51dHp0ID09ICJ0cnVlIiB8fCB4LmvDvGNoZUJlbnV0enQgPT0gIkphIjsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB0b2dnbGVTZWxlY3RlZFRlYW0odGVhbUlkKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRUZWFtTm8gPSB0aGlzLnNlbGVjdGVkVGVhbU5vID09IHRlYW1JZCA/IDAgOiB0ZWFtSWQ7CiAgICB9LAogICAgZ2V0QmVzdENvbmZpZygpIHsKICAgICAgLy8gdHJpYWwgYW5kIGVycm9yIHZlcnNpb24gdG8gZmluZCBiZXN0IGFzc2lnbm1lbnQKICAgICAgbGV0IHRyaWVkX2Fzc2lnbm1lbnRzID0gW107IC8vIFthc3NpZ25tZW50SWRzLCB0b3RhbERpc3QsIG1heERpc3RdLCBzb3J0ZWQgYnkgbWF4RGlzdAoKICAgICAgLy8gdHJ5IDEwIGNvbmZpZ3VyYXRpb25zCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykgewogICAgICAgIC8vIHN0YXJ0IHJhbmRvbSB3aXRoIHRlYW1zIG9mIGZpcnN0IGFuZCBsYXN0IGNvdXJzZSByYW5kb21seSBieSBkaXN0YW5jZQogICAgICAgIGxldCBhc3NpZ25tZW50cyA9IHRoaXMuZ2V0UmFuZG9tQXNzaWdubWVudElkcygpOwogICAgICAgIGFzc2lnbm1lbnRzID0gdGhpcy5nZXRGaXJzdENvdXJzZU91dHNpZGVBc3NpZ25tZW50SWRzKGFzc2lnbm1lbnRzKTsKICAgICAgICBsZXQgdGVhbUFycmF5ID0gdGhpcy5hc3NpZ25JZHNUb1RlYW0odGhpcy5jc3YsIGFzc2lnbm1lbnRzLCB0aGlzLmFzc2lnbm1lbnRNYXRyaXgpOwogICAgICAgIGxldCB0ZWFtT2JqZWN0ID0gdGhpcy5jcmVhdGVFbmhhbmNlZFRlYW1JbmZvKHRlYW1BcnJheSk7CiAgICAgICAgbGV0IHN0YXRzID0gdGhpcy5nZXRTdGF0c0ZvckFzc2lnbm1lbnRzKHRlYW1PYmplY3QpOwogICAgICAgIC8vY29uc29sZS5sb2coJ2N1cnJlbnQgc2NvcmU6JywgYXNzaWdubWVudHMsIHN0YXRzLm92ZXJhbGxTY29yZSk7IC8vZXNsaW50LWRpc2FibGUtbGluZQoKICAgICAgICBhc3NpZ25tZW50cyA9IHRoaXMuZ2V0QmV0dGVyQXNzaWdubWVudHMoYXNzaWdubWVudHMsIHN0YXRzLm92ZXJhbGxTY29yZSk7CiAgICAgICAgdGVhbUFycmF5ID0gdGhpcy5hc3NpZ25JZHNUb1RlYW0odGhpcy5jc3YsIGFzc2lnbm1lbnRzLCB0aGlzLmFzc2lnbm1lbnRNYXRyaXgpOwogICAgICAgIHRlYW1PYmplY3QgPSB0aGlzLmNyZWF0ZUVuaGFuY2VkVGVhbUluZm8odGVhbUFycmF5KTsKICAgICAgICBzdGF0cyA9IHRoaXMuZ2V0U3RhdHNGb3JBc3NpZ25tZW50cyh0ZWFtT2JqZWN0KTsKICAgICAgICAvL2NvbnNvbGUubG9nKCdjdXJyZW50IGJldHRlciBzY29yZTonLCBhc3NpZ25tZW50cywgc3RhdHMub3ZlcmFsbFNjb3JlKTsgLy9lc2xpbnQtZGlzYWJsZS1saW5lCgogICAgICAgIC8vIGdldCBzdGF0cyBmb3IgYXNzaWdubWVudAogICAgICAgIC8vIGNvbnNvbGUubG9nKCd0cmllZCcsIGFzc2lnbm1lbnRzLCBzdGF0cy5vdmVyYWxsU2NvcmUpIC8vZXNsaW50LWRpc2FibGUtbGluZQogICAgICAgIHRyaWVkX2Fzc2lnbm1lbnRzLnB1c2goW0FycmF5LmZyb20oYXNzaWdubWVudHMpLCBzdGF0cy5vdmVyYWxsU2NvcmVdKTsKICAgICAgfQogICAgICBsZXQgc29ydGVkQXNzaWdubWVudHMgPSB0cmllZF9hc3NpZ25tZW50cy5zb3J0KChhLCBiKSA9PiB7CiAgICAgICAgcmV0dXJuIGFbMV0gLSBiWzFdOwogICAgICB9KTsKICAgICAgLy9jb25zb2xlLmxvZygnQmVzdENvbmZpZ3M6Jywgc29ydGVkQXNzaWdubWVudHMpOyAvL2VzbGludC1kaXNhYmxlLWxpbmUKICAgICAgY29uc29sZS5sb2coJ0Jlc3RDb25maWc6Jywgc29ydGVkQXNzaWdubWVudHNbMF1bMF0sICd3aXRoJywgc29ydGVkQXNzaWdubWVudHNbMF1bMV0pOyAvL2VzbGludC1kaXNhYmxlLWxpbmUKICAgICAgbGV0IHRlYW1BcnJheSA9IHRoaXMuYXNzaWduSWRzVG9UZWFtKHRoaXMuY3N2LCBzb3J0ZWRBc3NpZ25tZW50c1swXVswXSwgdGhpcy5hc3NpZ25tZW50TWF0cml4KTsKICAgICAgbGV0IHRlYW1PYmplY3QgPSB0aGlzLmNyZWF0ZUVuaGFuY2VkVGVhbUluZm8odGVhbUFycmF5KTsKICAgICAgbGV0IHN0YXRzID0gdGhpcy5nZXRTdGF0c0ZvckFzc2lnbm1lbnRzKHRlYW1PYmplY3QpOwogICAgICBjb25zb2xlLmxvZygnQmVzdENvbmZpZ1Njb3JlOicsIHN0YXRzLm92ZXJhbGxTY29yZSk7IC8vZXNsaW50LWRpc2FibGUtbGluZQogICAgICB0aGlzLmFwcGx5QXNzaWdubWVudHMoc29ydGVkQXNzaWdubWVudHNbMF1bMF0pOwogICAgfSwKICAgIGdldEJldHRlckFzc2lnbm1lbnRzKGFzc2lnbm1lbnRzLCBjdXJyZW50U2NvcmUpIHsKICAgICAgLy8gbG9vcCB0aHJvdWdoIGFsbCBwb3NzaWJpbGl0aWVzCiAgICAgIGxldCBiZXN0QXNzaWdubWVudCA9IEpTT04uc3RyaW5naWZ5KGFzc2lnbm1lbnRzKQogICAgICBsZXQgbmV3QXNzaWdubWVudHMgPSBbXQogICAgICBsZXQgdGVhbUFycmF5ID0gW10KICAgICAgbGV0IHRlYW1PYmplY3QgPSBudWxsCiAgICAgIGxldCBzdGF0cyA9IFtdCiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IGFzc2lnbm1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgZm9yIChsZXQgaiA9IGk7IGogPD0gYXNzaWdubWVudHMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIG5ld0Fzc2lnbm1lbnRzID0gdGhpcy5zd2l0Y2hUZWFtcyhpLCBqLCBKU09OLnBhcnNlKGJlc3RBc3NpZ25tZW50KSkKICAgICAgICAgIAogICAgICAgICAgdGVhbUFycmF5ID0gdGhpcy5hc3NpZ25JZHNUb1RlYW0odGhpcy5jc3YsIG5ld0Fzc2lnbm1lbnRzLCB0aGlzLmFzc2lnbm1lbnRNYXRyaXgpOwogICAgICAgICAgdGVhbU9iamVjdCA9IHRoaXMuY3JlYXRlRW5oYW5jZWRUZWFtSW5mbyh0ZWFtQXJyYXkpOwogICAgICAgICAgCiAgICAgICAgICBzdGF0cyA9IHRoaXMuZ2V0U3RhdHNGb3JBc3NpZ25tZW50cyh0ZWFtT2JqZWN0KTsKICAgICAgICAgIAogICAgICAgICAgaWYoc3RhdHMub3ZlcmFsbFNjb3JlIDwgY3VycmVudFNjb3JlKXsKICAgICAgICAgICAgYmVzdEFzc2lnbm1lbnQgPSBKU09OLnN0cmluZ2lmeShuZXdBc3NpZ25tZW50cykKICAgICAgICAgICAgY3VycmVudFNjb3JlID0gc3RhdHMub3ZlcmFsbFNjb3JlCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGJlc3RBc3NpZ25tZW50ID0gSlNPTi5wYXJzZShiZXN0QXNzaWdubWVudCkKICAgICAgLy9jb25zb2xlLmxvZygnYmV0dGVyIGFzc2lnbm1lbnRzJywgYmVzdEFzc2lnbm1lbnQsIGN1cnJlbnRTY29yZSk7IC8vZXNsaW50LWRpc2FibGUtbGluZQogICAgICByZXR1cm4gYmVzdEFzc2lnbm1lbnQ7CiAgICB9LAogICAgY3JlYXRlUmFuZG9tQXNzaWdubWVudCgpIHsKICAgICAgY29uc3QgYXNzaWdubWVudHMgPSB0aGlzLmdldFJhbmRvbUFzc2lnbm1lbnRJZHMoKTsKICAgICAgdGhpcy5hcHBseUFzc2lnbm1lbnRzKGFzc2lnbm1lbnRzKTsKICAgIH0sCiAgICBjcmVhdGVGaXJzdENvdXJzZU91dHNpZGVBc3NpZ25tZW50KCkgewogICAgICBsZXQgYXNzaWdubWVudHMgPSB0aGlzLmdldFJhbmRvbUFzc2lnbm1lbnRJZHMoKTsKICAgICAgYXNzaWdubWVudHMgPSB0aGlzLmdldEZpcnN0Q291cnNlT3V0c2lkZUFzc2lnbm1lbnRJZHMoYXNzaWdubWVudHMpOwogICAgICB0aGlzLmFwcGx5QXNzaWdubWVudHMoYXNzaWdubWVudHMpOwogICAgfSwKICAgIGFwcGx5QXNzaWdubWVudHMoYXNzaWdubWVudHMpIHsKICAgICAgdGhpcy50ZWFtVG9Bc3NpZ25JZE1hcCA9IGFzc2lnbm1lbnRzOwogICAgICBjb25zdCB0ZWFtQXJyYXkgPSB0aGlzLmFzc2lnbklkc1RvVGVhbSh0aGlzLmNzdiwgYXNzaWdubWVudHMsIHRoaXMuYXNzaWdubWVudE1hdHJpeCk7CiAgICAgIHRoaXMudGVhbXMgPSB0aGlzLmNyZWF0ZUVuaGFuY2VkVGVhbUluZm8odGVhbUFycmF5KTsKICAgICAgY29uc3Qgc3RhdHMgPSB0aGlzLmdldFN0YXRzRm9yQXNzaWdubWVudHModGhpcy50ZWFtcyk7CiAgICAgIHRoaXMubWF4RGlzdGFuY2UgPSBzdGF0cy5tYXhEaXN0OwogICAgICB0aGlzLm92ZXJhbGxEaXN0YW5jZSA9IHN0YXRzLm92ZXJhbGxEaXN0OwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldENzdiIsIHRlYW1BcnJheSk7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgIGhlYWRlcjogIlRlYW1zIiwKICAgICAgY3VycmVudFpvb206IDEzLAogICAgICB0ZWFtczoge30sCiAgICAgIGNzdjogW10sCiAgICAgIHBvbHlsaW5lczogW10sCiAgICAgIGhhc0Fzc2lnbm1lbnRzOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRUZWFtTm86IDAsCiAgICAgIGNpdHlDZW50ZXI6IFs0OS44NzI1MTcsIDguNjUxMzMzXSwKICAgICAgdGVhbVRvQXNzaWduSWRNYXA6IFtdLAogICAgICBhc3NpZ25tZW50TWF0cml4OiBbXSwKICAgICAgb3ZlcmFsbERpc3RhbmNlOiAwLAogICAgICBtYXhEaXN0YW5jZTogMCwKICAgICAgdmFsaWRDb25maWc6IFt0cnVlXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uKCkgewogICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmNzdikgewogICAgICB0aGlzLmNzdiA9IHRoaXMuJHN0b3JlLnN0YXRlLmNzdjsKCiAgICAgIC8vIGNyZWF0ZSBBc3NpZ25tZW50IE1hdHJpeAogICAgICB0aGlzLmFzc2lnbm1lbnRNYXRyaXggPSAgSlNPTi5zdHJpbmdpZnkodGhpcy5jcmVhdGVBc3NpZ25tZW50TWF0cml4KHRoaXMuY3N2Lmxlbmd0aCAvIDIpKQoKICAgICAgLy8gY2hlY2sgaWYgYXNzaWdubWVudHMgYXJlIGFscmVhZHkgY3JlYXRlZAogICAgICBsZXQgaGFzQXNzaWdubWVudHMgPSB0cnVlOwogICAgICB0aGlzLmNzdi5mb3JFYWNoKGUgPT4gewogICAgICAgIGlmICgKICAgICAgICAgIGUuZmlyc3RDb3Vyc2UgPT0gZS5maXJzdG5hbWUgfHwKICAgICAgICAgIGUuc2Vjb25kQ291cnNlID09IGUuZmlyc3RuYW1lIHx8CiAgICAgICAgICBlLnRoaXJkQ291cnNlID09IGUuZmlyc3RuYW1lCiAgICAgICAgKSB7CiAgICAgICAgICBoYXNBc3NpZ25tZW50cyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGlmIChoYXNBc3NpZ25tZW50cykgewogICAgICAgIHRoaXMuaGFzQXNzaWdubWVudHMgPSBoYXNBc3NpZ25tZW50czsKICAgICAgICB0aGlzLnRlYW1zID0gdGhpcy5jcmVhdGVFbmhhbmNlZFRlYW1JbmZvKHRoaXMuY3N2KTsKICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["Assignments.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Assignments.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"page\">\n    <h1>Assignments</h1>\n    <p class=\"alert alert-success\" v-if=\"hasAssignments\">\n      Thats already sufficient! You are now able to <a href=\"#\" @click=\"$store.commit('setCurrentPage', 'emails')\">create & download the data for your E-Mails!</a>\n    </p>\n    <p\n      class=\"alert alert-info\"\n    >Here, all teams are assigned routes, telling them where they will have the first, second and third course.</p>\n\n    <button\n      type=\"button\"\n      class=\"btn btn-primary\"\n      @click=\"createRandomAssignment\"\n    >Create Team Assignments Randomly</button>\n    <button\n      type=\"button\"\n      class=\"btn btn-primary\"\n      @click=\"createFirstCourseOutsideAssignment\"\n    >Change to FirstCourse Away from city Center</button>\n    <button\n      type=\"button\"\n      class=\"btn btn-primary\"\n      @click=\"getBestConfig\"\n    >Get best Config in 20 Trials</button>\n    <div style=\"margin: 1em\">\n      <span\n        v-for=\"team in teams\"\n        @click=\"toggleSelectedTeam(team.teamId)\"\n        :key=\"team.teamId\"\n        :style=\"{'background-color': getTeamColor(team.teamId, selectedTeamNo)}\"\n        style=\"cursor: pointer\"\n        class=\"badge badge-secondary\"\n      >{{team.firstname}} and {{team.partner.firstname}} ({{team.sequence.distance.toFixed(2)}} km)</span>\n    </div>\n    <div\n      v-if=\"teams\"\n    >Overall Distance: {{overallDistance.toFixed(2)}} km | maxDistance: {{maxDistance.toFixed(2)}} km</div>\n    <p class=\"alert alert-warning\" v-if=\"!validConfig[0]\">Error: {{validConfig[1]}}</p>\n    <l-map\n      v-if=\"csv.length > -2\"\n      style=\"height: 50em; width: 100%\"\n      :center=\"[49.872517,8.651333]\"\n      :zoom=\"currentZoom\"\n    >\n      <l-tile-layer url=\"http://{s}.tile.osm.org/{z}/{x}/{y}.png\" layer-type=\"base\" />\n      <l-marker\n        v-for=\"kitchen in usedKitchens\"\n        v-bind:key=\"kitchen.teamId\"\n        :lat-lng=\"[kitchen.lat, kitchen.lon]\"\n        :title=\"kitchen.Vorname\"\n      >\n        <l-tooltip :content=\"kitchen.Vorname\"></l-tooltip>\n      </l-marker>\n      <l-polyline\n        v-for=\"team in teams\"\n        @mouseup=\"toggleSelectedTeam(team.teamId)\"\n        :key=\"team.teamId\"\n        :lat-lngs=\"team.sequence.latlngs\"\n        :color=\"getTeamColor(team.teamId, selectedTeamNo)\"\n      ></l-polyline>\n    </l-map>\n  </div>\n</template>\n\n<script>\nimport { LMap, LTileLayer, LMarker, LTooltip, LPolyline } from \"vue2-leaflet\";\nimport { globalFunctions } from \"./mixins/globalFunctions\";\nimport { assignmentInitializer } from \"./mixins/assignmentInitializer\";\nimport { assignmentOptimizers } from \"./mixins/assignmentOptimizers\";\nimport { assignmentStats } from \"./mixins/assignmentStats\";\n\nexport default {\n  name: \"Assignments\",\n  components: {\n    LMap,\n    LTileLayer,\n    LMarker,\n    LTooltip,\n    LPolyline\n  },\n  mixins: [\n    assignmentInitializer,\n    globalFunctions,\n    assignmentOptimizers,\n    assignmentStats\n  ],\n  computed: {\n    usedKitchens: function() {\n      return this.csv.filter(x => {\n        return x.kücheBenutzt == \"true\" || x.kücheBenutzt == \"Ja\";\n      });\n    }\n  },\n  methods: {\n    toggleSelectedTeam(teamId) {\n      this.selectedTeamNo = this.selectedTeamNo == teamId ? 0 : teamId;\n    },\n    getBestConfig() {\n      // trial and error version to find best assignment\n      let tried_assignments = []; // [assignmentIds, totalDist, maxDist], sorted by maxDist\n\n      // try 10 configurations\n      for (let i = 0; i < 20; i++) {\n        // start random with teams of first and last course randomly by distance\n        let assignments = this.getRandomAssignmentIds();\n        assignments = this.getFirstCourseOutsideAssignmentIds(assignments);\n        let teamArray = this.assignIdsToTeam(this.csv, assignments, this.assignmentMatrix);\n        let teamObject = this.createEnhancedTeamInfo(teamArray);\n        let stats = this.getStatsForAssignments(teamObject);\n        //console.log('current score:', assignments, stats.overallScore); //eslint-disable-line\n\n        assignments = this.getBetterAssignments(assignments, stats.overallScore);\n        teamArray = this.assignIdsToTeam(this.csv, assignments, this.assignmentMatrix);\n        teamObject = this.createEnhancedTeamInfo(teamArray);\n        stats = this.getStatsForAssignments(teamObject);\n        //console.log('current better score:', assignments, stats.overallScore); //eslint-disable-line\n\n        // get stats for assignment\n        // console.log('tried', assignments, stats.overallScore) //eslint-disable-line\n        tried_assignments.push([Array.from(assignments), stats.overallScore]);\n      }\n      let sortedAssignments = tried_assignments.sort((a, b) => {\n        return a[1] - b[1];\n      });\n      //console.log('BestConfigs:', sortedAssignments); //eslint-disable-line\n      console.log('BestConfig:', sortedAssignments[0][0], 'with', sortedAssignments[0][1]); //eslint-disable-line\n      let teamArray = this.assignIdsToTeam(this.csv, sortedAssignments[0][0], this.assignmentMatrix);\n      let teamObject = this.createEnhancedTeamInfo(teamArray);\n      let stats = this.getStatsForAssignments(teamObject);\n      console.log('BestConfigScore:', stats.overallScore); //eslint-disable-line\n      this.applyAssignments(sortedAssignments[0][0]);\n    },\n    getBetterAssignments(assignments, currentScore) {\n      // loop through all possibilities\n      let bestAssignment = JSON.stringify(assignments)\n      let newAssignments = []\n      let teamArray = []\n      let teamObject = null\n      let stats = []\n      for (let i = 1; i <= assignments.length; i++) {\n        for (let j = i; j <= assignments.length; j++) {\n          newAssignments = this.switchTeams(i, j, JSON.parse(bestAssignment))\n          \n          teamArray = this.assignIdsToTeam(this.csv, newAssignments, this.assignmentMatrix);\n          teamObject = this.createEnhancedTeamInfo(teamArray);\n          \n          stats = this.getStatsForAssignments(teamObject);\n          \n          if(stats.overallScore < currentScore){\n            bestAssignment = JSON.stringify(newAssignments)\n            currentScore = stats.overallScore\n          }\n        }\n      }\n      bestAssignment = JSON.parse(bestAssignment)\n      //console.log('better assignments', bestAssignment, currentScore); //eslint-disable-line\n      return bestAssignment;\n    },\n    createRandomAssignment() {\n      const assignments = this.getRandomAssignmentIds();\n      this.applyAssignments(assignments);\n    },\n    createFirstCourseOutsideAssignment() {\n      let assignments = this.getRandomAssignmentIds();\n      assignments = this.getFirstCourseOutsideAssignmentIds(assignments);\n      this.applyAssignments(assignments);\n    },\n    applyAssignments(assignments) {\n      this.teamToAssignIdMap = assignments;\n      const teamArray = this.assignIdsToTeam(this.csv, assignments, this.assignmentMatrix);\n      this.teams = this.createEnhancedTeamInfo(teamArray);\n      const stats = this.getStatsForAssignments(this.teams);\n      this.maxDistance = stats.maxDist;\n      this.overallDistance = stats.overallDist;\n      this.$store.commit(\"setCsv\", teamArray);\n    }\n  },\n  data: function() {\n    return {\n      header: \"Teams\",\n      currentZoom: 13,\n      teams: {},\n      csv: [],\n      polylines: [],\n      hasAssignments: false,\n      selectedTeamNo: 0,\n      cityCenter: [49.872517, 8.651333],\n      teamToAssignIdMap: [],\n      assignmentMatrix: [],\n      overallDistance: 0,\n      maxDistance: 0,\n      validConfig: [true]\n    };\n  },\n  mounted: function() {\n    if (this.$store.state.csv) {\n      this.csv = this.$store.state.csv;\n\n      // create Assignment Matrix\n      this.assignmentMatrix =  JSON.stringify(this.createAssignmentMatrix(this.csv.length / 2))\n\n      // check if assignments are already created\n      let hasAssignments = true;\n      this.csv.forEach(e => {\n        if (\n          e.firstCourse == e.firstname ||\n          e.secondCourse == e.firstname ||\n          e.thirdCourse == e.firstname\n        ) {\n          hasAssignments = false;\n        }\n      });\n      if (hasAssignments) {\n        this.hasAssignments = hasAssignments;\n        this.teams = this.createEnhancedTeamInfo(this.csv);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.badge {\n  margin: 2px;\n  font-size: 1em;\n}\n</style>\n"]}]}