{"remainingRequest":"/home/donpiano/running-dinner-solver/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/donpiano/running-dinner-solver/src/components/Emails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/donpiano/running-dinner-solver/src/components/Emails.vue","mtime":1575238387996},{"path":"/home/donpiano/running-dinner-solver/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/donpiano/running-dinner-solver/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/donpiano/running-dinner-solver/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/donpiano/running-dinner-solver/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRW1haWxzJywKICBkYXRhOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgIGNzdjogW10sCiAgICAgIGVtYWlsczogW10sCiAgICAgIGVtYWlsc19jcmVhdGVkOiBmYWxzZSwKICAgICAgZmlsbGVkRW1haWxUZW1wbGF0ZTogbnVsbCwKICAgICAgbWFwRmllbGRzOiBbImZpcnN0bmFtZSIsICJsYXN0bmFtZSIsICJvcmdhbml6YXRpb24iLCAiZW1haWwiXSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjcmVhdGVFbWFpbHMoKSB7CiAgICAgIHRoaXMuZW1haWxzID0gW10KICAgICAgdGhpcy5jc3YuZm9yRWFjaChlID0+IHsKICAgICAgICBsZXQgZW1haWxJbmZvID0ge30KICAgICAgICBsZXQgdGVhbVBhcnRuZXIgPSB0aGlzLmdldFRlYW1QYXJ0bmVyKGUpCiAgICAgICAgbGV0IGZpcnN0Q291cnNlUGVyc29uID0gdGhpcy5nZXRQZXJzb25XaXRoVGVhbUlkKGUuZmlyc3RDb3Vyc2UpCiAgICAgICAgbGV0IHNlY29uZENvdXJzZVBlcnNvbiA9IHRoaXMuZ2V0UGVyc29uV2l0aFRlYW1JZChlLnNlY29uZENvdXJzZSkKICAgICAgICBsZXQgdGhpcmRDb3Vyc2VQZXJzb24gPSB0aGlzLmdldFBlcnNvbldpdGhUZWFtSWQoZS50aGlyZENvdXJzZSkKCiAgICAgICAgZW1haWxJbmZvLmZpcnN0bmFtZSA9IGUuZmlyc3RuYW1lCiAgICAgICAgZW1haWxJbmZvLmVtYWlsID0gZS5lbWFpbAogICAgICAgIGVtYWlsSW5mby50ZWFtSWQgPSBlLnRlYW1JZAogICAgICAgIGVtYWlsSW5mby50ZWFtQ291cnNlID0gdGhpcy5nZXRDb3Vyc2VOYW1lKGUudGVhbUlkKQoKICAgICAgICAvLyBUZWFtIFBhcnRuZXIgSW5mbwogICAgICAgIGVtYWlsSW5mby50ZWFtUGFydG5lckZpcnN0bmFtZSA9IHRlYW1QYXJ0bmVyLmZpcnN0bmFtZQogICAgICAgIGVtYWlsSW5mby50ZWFtUGFydG5lckxhc3RuYW1lID0gdGVhbVBhcnRuZXIubGFzdG5hbWUKICAgICAgICBlbWFpbEluZm8udGVhbVBhcnRuZXJFbWFpbCA9IHRlYW1QYXJ0bmVyLmVtYWlsCiAgICAgICAgZW1haWxJbmZvLnRlYW1QYXJ0bmVyT3JnYW5pemF0aW9uID0gdGVhbVBhcnRuZXIub3JnYW5pemF0aW9uCgogICAgICAgIGxldCB0ZWwgPSB0ZWFtUGFydG5lci5waG9uZS50b1N0cmluZygpCiAgICAgICAgaWYgKHRlbFswXSAhPSAiMCIgJiYgdGVsWzBdICE9ICIrIiAmJiB0ZWxbMF0gIT0gIjQiKSB7CiAgICAgICAgICB0ZWwgPSAiMCIgKyB0ZWwKICAgICAgICB9CiAgICAgICAgaWYgKHRlbFswXSA9PSAiNCIgJiYgdGVsWzFdID09ICI5Iil7CiAgICAgICAgICB0ZWwgPSAiKyIgKyB0ZWwKICAgICAgICB9CiAgICAgICAgZW1haWxJbmZvLnRlYW1QYXJ0bmVyUGhvbmUgPSB0ZWwKCiAgICAgICAgLy8gRmlyc3QgQ291cnNlIEluZm8KICAgICAgICBlbWFpbEluZm8uZmlyc3RDb3Vyc2VQZXJzb25GaXJzdG5hbWUgPSBmaXJzdENvdXJzZVBlcnNvbi5maXJzdG5hbWUKICAgICAgICBlbWFpbEluZm8uZmlyc3RDb3Vyc2VQZXJzb25MYXN0bmFtZSA9IGZpcnN0Q291cnNlUGVyc29uLmxhc3RuYW1lCiAgICAgICAgZW1haWxJbmZvLmZpcnN0Q291cnNlUGVyc29uT3JnYW5pemF0aW9uID0gZmlyc3RDb3Vyc2VQZXJzb24ub3JnYW5pemF0aW9uCiAgICAgICAgZW1haWxJbmZvLmZpcnN0Q291cnNlUGVyc29uQXJlYSA9IGZpcnN0Q291cnNlUGVyc29uLmFyZWEKICAgICAgICBlbWFpbEluZm8uZmlyc3RDb3Vyc2VQZXJzb25TdHJlZXQgPSBmaXJzdENvdXJzZVBlcnNvbi5zdHJlZXQKICAgICAgICBlbWFpbEluZm8uZmlyc3RDb3Vyc2VQZXJzb25TdGVldG51bWJlciA9IGZpcnN0Q291cnNlUGVyc29uLnN0cmVldG51bWJlcgogICAgICAgIGVtYWlsSW5mby5maXJzdENvdXJzZVBlcnNvblppcCA9IGZpcnN0Q291cnNlUGVyc29uLnppcAoKCiAgICAgICAgLy8gU2Vjb25kIENvdXJzZSBJbmZvCiAgICAgICAgZW1haWxJbmZvLnNlY29uZENvdXJzZVBlcnNvbkZpcnN0bmFtZSA9IHNlY29uZENvdXJzZVBlcnNvbi5maXJzdG5hbWUKICAgICAgICBlbWFpbEluZm8uc2Vjb25kQ291cnNlUGVyc29uTGFzdG5hbWUgPSBzZWNvbmRDb3Vyc2VQZXJzb24ubGFzdG5hbWUKICAgICAgICBlbWFpbEluZm8uc2Vjb25kQ291cnNlUGVyc29uT3JnYW5pemF0aW9uID0gc2Vjb25kQ291cnNlUGVyc29uLm9yZ2FuaXphdGlvbgogICAgICAgIGVtYWlsSW5mby5zZWNvbmRDb3Vyc2VQZXJzb25BcmVhID0gc2Vjb25kQ291cnNlUGVyc29uLmFyZWEKICAgICAgICBlbWFpbEluZm8uc2Vjb25kQ291cnNlUGVyc29uU3RyZWV0ID0gc2Vjb25kQ291cnNlUGVyc29uLnN0cmVldAogICAgICAgIGVtYWlsSW5mby5zZWNvbmRDb3Vyc2VQZXJzb25TdGVldG51bWJlciA9IHNlY29uZENvdXJzZVBlcnNvbi5zdHJlZXRudW1iZXIKICAgICAgICBlbWFpbEluZm8uc2Vjb25kQ291cnNlUGVyc29uWmlwID0gc2Vjb25kQ291cnNlUGVyc29uLnppcAoKICAgICAgICAvLyBUaGlyZCBDb3Vyc2UgSW5mbwogICAgICAgIGVtYWlsSW5mby50aGlyZENvdXJzZVBlcnNvbkZpcnN0bmFtZSA9IHRoaXJkQ291cnNlUGVyc29uLmZpcnN0bmFtZQogICAgICAgIGVtYWlsSW5mby50aGlyZENvdXJzZVBlcnNvbkxhc3RuYW1lID0gdGhpcmRDb3Vyc2VQZXJzb24ubGFzdG5hbWUKICAgICAgICBlbWFpbEluZm8udGhpcmRDb3Vyc2VQZXJzb25Pcmdhbml6YXRpb24gPSB0aGlyZENvdXJzZVBlcnNvbi5vcmdhbml6YXRpb24KICAgICAgICBlbWFpbEluZm8udGhpcmRDb3Vyc2VQZXJzb25BcmVhID0gdGhpcmRDb3Vyc2VQZXJzb24uYXJlYQogICAgICAgIGVtYWlsSW5mby50aGlyZENvdXJzZVBlcnNvblN0cmVldCA9IHRoaXJkQ291cnNlUGVyc29uLnN0cmVldAogICAgICAgIGVtYWlsSW5mby50aGlyZENvdXJzZVBlcnNvblN0ZWV0bnVtYmVyID0gdGhpcmRDb3Vyc2VQZXJzb24uc3RyZWV0bnVtYmVyCiAgICAgICAgZW1haWxJbmZvLnRoaXJkQ291cnNlUGVyc29uWmlwID0gdGhpcmRDb3Vyc2VQZXJzb24uemlwCgogICAgICAgIHRoaXMuZW1haWxzLnB1c2goZW1haWxJbmZvKQoKLyoKICAgICAgICBsZXQgdGVtcGxhdGUgPSBHdWRkaV9FaW50ZWlsdW5nCiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC8lJSVWb3JuYW1lJSUlL2dpLCBlLmZpcnN0bmFtZSkKICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoLyUlJVRlYW1fQ291cnNlJSUlL2dpLCB0aGlzLmdldENvdXJzZU5hbWUoZS50ZWFtSWQpKQogICAgICAgIC8vY29uc29sZS5sb2coJ3BhcnRuZXInLCBlLmZpcnN0bmFtZSwgdGVhbVBhcnRuZXIuZmlyc3RuYW1lKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lCiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC8lJSVUZWFtcGFydG5lcl9Wb3JuYW1lJSUlL2dpLCB0ZWFtUGFydG5lci5maXJzdG5hbWUpCiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC8lJSVUZWFtcGFydG5lcl9OYWNobmFtZSUlJS9naSwgdGVhbVBhcnRuZXIubGFzdG5hbWUpCiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC8lJSVUZWFtcGFydG5lcl9FbWFpbCUlJS9naSwgdGVhbVBhcnRuZXIuZW1haWwpCiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC8lJSVUZWFtcGFydG5lcl9PcmdhbmlzYXRpb24lJSUvZ2ksIHRlYW1QYXJ0bmVyLm9yZ2FuaXphdGlvbikKICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoLyUlJVRlYW1wYXJ0bmVyX1RlbGVmb24lJSUvZ2ksIGVtYWlsSW5mby50ZWFtUGFydG5lclBob25lKQoKICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoLyUlJUZpcnN0Q291cnNlX1Zvcm5hbWUlJSUvZ2ksIGZpcnN0Q291cnNlUGVyc29uLmZpcnN0bmFtZSkKICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoLyUlJUZpcnN0Q291cnNlX05hY2huYW1lJSUlL2dpLCBmaXJzdENvdXJzZVBlcnNvbi5sYXN0bmFtZSkKICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoLyUlJUZpcnN0Q291cnNlX09yZ2FuaXNhdGlvbiUlJS9naSwgZmlyc3RDb3Vyc2VQZXJzb24ub3JnYW5pemF0aW9uKQogICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvJSUlRmlyc3RDb3Vyc2VfVmllcnRlbCUlJS9naSwgZmlyc3RDb3Vyc2VQZXJzb24uYXJlYSkKICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoLyUlJUZpcnN0Q291cnNlX1N0cmVldCUlJS9naSwgZmlyc3RDb3Vyc2VQZXJzb24uc3RyZWV0KQogICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvJSUlRmlyc3RDb3Vyc2VfU3RyZWV0bnVtYmVyJSUlL2dpLCBmaXJzdENvdXJzZVBlcnNvbi5zdHJlZXRudW1iZXIpCiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC8lJSVGaXJzdENvdXJzZV9QTFolJSUvZ2ksIGZpcnN0Q291cnNlUGVyc29uLnppcCkKCiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC8lJSVTZWNvbmRDb3Vyc2VfVm9ybmFtZSUlJS9naSwgc2Vjb25kQ291cnNlUGVyc29uLmZpcnN0bmFtZSkKICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoLyUlJVNlY29uZENvdXJzZV9OYWNobmFtZSUlJS9naSwgc2Vjb25kQ291cnNlUGVyc29uLmxhc3RuYW1lKQogICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvJSUlU2Vjb25kQ291cnNlX09yZ2FuaXNhdGlvbiUlJS9naSwgc2Vjb25kQ291cnNlUGVyc29uLm9yZ2FuaXphdGlvbikKICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoLyUlJVNlY29uZENvdXJzZV9WaWVydGVsJSUlL2dpLCBzZWNvbmRDb3Vyc2VQZXJzb24uYXJlYSkKICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoLyUlJVNlY29uZENvdXJzZV9TdHJlZXQlJSUvZ2ksIHNlY29uZENvdXJzZVBlcnNvbi5zdHJlZXQpCiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC8lJSVTZWNvbmRDb3Vyc2VfU3RyZWV0bnVtYmVyJSUlL2dpLCBzZWNvbmRDb3Vyc2VQZXJzb24uc3RyZWV0bnVtYmVyKQogICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvJSUlU2Vjb25kQ291cnNlX1BMWiUlJS9naSwgc2Vjb25kQ291cnNlUGVyc29uLnppcCkKCiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC8lJSVUaGlyZENvdXJzZV9Wb3JuYW1lJSUlL2dpLCB0aGlyZENvdXJzZVBlcnNvbi5maXJzdG5hbWUpCiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC8lJSVUaGlyZENvdXJzZV9OYWNobmFtZSUlJS9naSwgdGhpcmRDb3Vyc2VQZXJzb24ubGFzdG5hbWUpCiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC8lJSVUaGlyZENvdXJzZV9PcmdhbmlzYXRpb24lJSUvZ2ksIHRoaXJkQ291cnNlUGVyc29uLm9yZ2FuaXphdGlvbikKICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoLyUlJVRoaXJkQ291cnNlX1ZpZXJ0ZWwlJSUvZ2ksIHRoaXJkQ291cnNlUGVyc29uLmFyZWEpCiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC8lJSVUaGlyZENvdXJzZV9TdHJlZXQlJSUvZ2ksIHRoaXJkQ291cnNlUGVyc29uLnN0cmVldCkKICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoLyUlJVRoaXJkQ291cnNlX1N0cmVldG51bWJlciUlJS9naSwgdGhpcmRDb3Vyc2VQZXJzb24uc3RyZWV0bnVtYmVyKQogICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvJSUlVGhpcmRDb3Vyc2VfUExaJSUlL2dpLCB0aGlyZENvdXJzZVBlcnNvbi56aXApCiAgICAgICAgdGhpcy5maWxsZWRFbWFpbFRlbXBsYXRlID0gdGVtcGxhdGUKICAgICAgICBlLmdlbmVyYXRlZF9tYWlsID0gdGVtcGxhdGUKICAgICAgICAqLwogICAgICB9KTsKICAgICAgdGhpcy5lbWFpbHNfY3JlYXRlZCA9IHRydWUKICAgIH0sCiAgICBnZXRDb3Vyc2VOYW1lKHRlYW1pZCkgeyAvLyBUT0RPOiBzaG91bGQgYmUgYWdub3N0aWMgZnJvbSBudW1iZXIgb2YgdGVhbXMKICAgICAgaWYgKHRlYW1pZCA8IDgpIHsKICAgICAgICByZXR1cm4gIlZvcnNwZWlzZSIKICAgICAgfSBlbHNlIGlmICh0ZWFtaWQgPj0gOCAmJiB0ZWFtaWQgPCAxNSkgewogICAgICAgIHJldHVybiAiSGF1cHRzcGVpc2UiCiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICJOYWNoc3BlaXNlIgogICAgICB9CiAgICB9LAogICAgZ2V0VGVhbVBhcnRuZXIocGVyc29uKXsKICAgICAgbGV0IHBhcnRuZXIgPSBudWxsCiAgICAgIHRoaXMuY3N2LmZvckVhY2goZSA9PiB7CiAgICAgICAgaWYgKGUudGVhbUlkID09IHBlcnNvbi50ZWFtSWQgJiYgZS5raXRjaGVuVXNlZCAhPSBwZXJzb24ua2l0Y2hlblVzZWQpewogICAgICAgICAgcGFydG5lciA9IGUKICAgICAgICB9CiAgICAgIH0pCiAgICAgIHJldHVybiBwYXJ0bmVyCiAgICB9LAogICAgZ2V0UGVyc29uV2l0aFRlYW1JZCh0ZWFtSWQpewogICAgICBsZXQgcGFydG5lciA9IG51bGwKICAgICAgdGhpcy5jc3YuZm9yRWFjaChlID0+IHsKICAgICAgICBpZiAoZS50ZWFtSWQgPT0gdGVhbUlkICYmIGUua2l0Y2hlblVzZWQgPT0gIkphIil7CiAgICAgICAgICBwYXJ0bmVyID0gZQogICAgICAgIH0KICAgICAgfSkKICAgICAgcmV0dXJuIHBhcnRuZXIKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uKCkgewogICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmNzdikgewogICAgICB0aGlzLmNzdiA9IHRoaXMuJHN0b3JlLnN0YXRlLmNzdjsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Emails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Emails.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"page\">\n    <h1>Emails</h1>\n    <p\n      class=\"alert alert-info\"\n    >Here, all neccesarry information will be added to a new csv file. After creating the email, you can download it and use it with \"Mail Merge\" in Thunderbird to automatically write all E-Mails.</p>\n    <div style=\"max-width: 50em; margin: auto\">\n      <download-csv\n        class=\"button\"\n        :data=\"csv\">\n         <button class=\"btn btn-primary\">Backup your created Teams</button>\n      </download-csv>\n      <button class=\"btn btn-primary\" type=\"button\" v-if=\"!emails_created\" @click=\"createEmails\">Create E-Mails</button>\n      <download-csv\n        class=\"button\"\n        v-if=\"emails_created\"\n        :data=\"emails\">\n         <button class=\"btn btn-primary\">Download Data for Emails</button>\n      </download-csv>\n    </div>\n    <div id=\"people\">\n      <v-client-table\n        v-if=\"csv.length > 2\"\n        :data=\"csv\"\n        :columns=\"mapFields\"\n      >\n        <template slot=\"submit\" slot-scope=\"{submit}\">\n          <button @click.prevent=\"submit\">send!</button>\n        </template>\n      </v-client-table>\n    </div>\n    <span v-html=\"filledEmailTemplate\"></span>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Emails',\n  data: function() {\n    return {\n      csv: [],\n      emails: [],\n      emails_created: false,\n      filledEmailTemplate: null,\n      mapFields: [\"firstname\", \"lastname\", \"organization\", \"email\"],\n    };\n  },\n  methods: {\n    createEmails() {\n      this.emails = []\n      this.csv.forEach(e => {\n        let emailInfo = {}\n        let teamPartner = this.getTeamPartner(e)\n        let firstCoursePerson = this.getPersonWithTeamId(e.firstCourse)\n        let secondCoursePerson = this.getPersonWithTeamId(e.secondCourse)\n        let thirdCoursePerson = this.getPersonWithTeamId(e.thirdCourse)\n\n        emailInfo.firstname = e.firstname\n        emailInfo.email = e.email\n        emailInfo.teamId = e.teamId\n        emailInfo.teamCourse = this.getCourseName(e.teamId)\n\n        // Team Partner Info\n        emailInfo.teamPartnerFirstname = teamPartner.firstname\n        emailInfo.teamPartnerLastname = teamPartner.lastname\n        emailInfo.teamPartnerEmail = teamPartner.email\n        emailInfo.teamPartnerOrganization = teamPartner.organization\n\n        let tel = teamPartner.phone.toString()\n        if (tel[0] != \"0\" && tel[0] != \"+\" && tel[0] != \"4\") {\n          tel = \"0\" + tel\n        }\n        if (tel[0] == \"4\" && tel[1] == \"9\"){\n          tel = \"+\" + tel\n        }\n        emailInfo.teamPartnerPhone = tel\n\n        // First Course Info\n        emailInfo.firstCoursePersonFirstname = firstCoursePerson.firstname\n        emailInfo.firstCoursePersonLastname = firstCoursePerson.lastname\n        emailInfo.firstCoursePersonOrganization = firstCoursePerson.organization\n        emailInfo.firstCoursePersonArea = firstCoursePerson.area\n        emailInfo.firstCoursePersonStreet = firstCoursePerson.street\n        emailInfo.firstCoursePersonSteetnumber = firstCoursePerson.streetnumber\n        emailInfo.firstCoursePersonZip = firstCoursePerson.zip\n\n\n        // Second Course Info\n        emailInfo.secondCoursePersonFirstname = secondCoursePerson.firstname\n        emailInfo.secondCoursePersonLastname = secondCoursePerson.lastname\n        emailInfo.secondCoursePersonOrganization = secondCoursePerson.organization\n        emailInfo.secondCoursePersonArea = secondCoursePerson.area\n        emailInfo.secondCoursePersonStreet = secondCoursePerson.street\n        emailInfo.secondCoursePersonSteetnumber = secondCoursePerson.streetnumber\n        emailInfo.secondCoursePersonZip = secondCoursePerson.zip\n\n        // Third Course Info\n        emailInfo.thirdCoursePersonFirstname = thirdCoursePerson.firstname\n        emailInfo.thirdCoursePersonLastname = thirdCoursePerson.lastname\n        emailInfo.thirdCoursePersonOrganization = thirdCoursePerson.organization\n        emailInfo.thirdCoursePersonArea = thirdCoursePerson.area\n        emailInfo.thirdCoursePersonStreet = thirdCoursePerson.street\n        emailInfo.thirdCoursePersonSteetnumber = thirdCoursePerson.streetnumber\n        emailInfo.thirdCoursePersonZip = thirdCoursePerson.zip\n\n        this.emails.push(emailInfo)\n\n/*\n        let template = Guddi_Einteilung\n        template = template.replace(/%%%Vorname%%%/gi, e.firstname)\n        template = template.replace(/%%%Team_Course%%%/gi, this.getCourseName(e.teamId))\n        //console.log('partner', e.firstname, teamPartner.firstname) // eslint-disable-line\n        template = template.replace(/%%%Teampartner_Vorname%%%/gi, teamPartner.firstname)\n        template = template.replace(/%%%Teampartner_Nachname%%%/gi, teamPartner.lastname)\n        template = template.replace(/%%%Teampartner_Email%%%/gi, teamPartner.email)\n        template = template.replace(/%%%Teampartner_Organisation%%%/gi, teamPartner.organization)\n        template = template.replace(/%%%Teampartner_Telefon%%%/gi, emailInfo.teamPartnerPhone)\n\n        template = template.replace(/%%%FirstCourse_Vorname%%%/gi, firstCoursePerson.firstname)\n        template = template.replace(/%%%FirstCourse_Nachname%%%/gi, firstCoursePerson.lastname)\n        template = template.replace(/%%%FirstCourse_Organisation%%%/gi, firstCoursePerson.organization)\n        template = template.replace(/%%%FirstCourse_Viertel%%%/gi, firstCoursePerson.area)\n        template = template.replace(/%%%FirstCourse_Street%%%/gi, firstCoursePerson.street)\n        template = template.replace(/%%%FirstCourse_Streetnumber%%%/gi, firstCoursePerson.streetnumber)\n        template = template.replace(/%%%FirstCourse_PLZ%%%/gi, firstCoursePerson.zip)\n\n        template = template.replace(/%%%SecondCourse_Vorname%%%/gi, secondCoursePerson.firstname)\n        template = template.replace(/%%%SecondCourse_Nachname%%%/gi, secondCoursePerson.lastname)\n        template = template.replace(/%%%SecondCourse_Organisation%%%/gi, secondCoursePerson.organization)\n        template = template.replace(/%%%SecondCourse_Viertel%%%/gi, secondCoursePerson.area)\n        template = template.replace(/%%%SecondCourse_Street%%%/gi, secondCoursePerson.street)\n        template = template.replace(/%%%SecondCourse_Streetnumber%%%/gi, secondCoursePerson.streetnumber)\n        template = template.replace(/%%%SecondCourse_PLZ%%%/gi, secondCoursePerson.zip)\n\n        template = template.replace(/%%%ThirdCourse_Vorname%%%/gi, thirdCoursePerson.firstname)\n        template = template.replace(/%%%ThirdCourse_Nachname%%%/gi, thirdCoursePerson.lastname)\n        template = template.replace(/%%%ThirdCourse_Organisation%%%/gi, thirdCoursePerson.organization)\n        template = template.replace(/%%%ThirdCourse_Viertel%%%/gi, thirdCoursePerson.area)\n        template = template.replace(/%%%ThirdCourse_Street%%%/gi, thirdCoursePerson.street)\n        template = template.replace(/%%%ThirdCourse_Streetnumber%%%/gi, thirdCoursePerson.streetnumber)\n        template = template.replace(/%%%ThirdCourse_PLZ%%%/gi, thirdCoursePerson.zip)\n        this.filledEmailTemplate = template\n        e.generated_mail = template\n        */\n      });\n      this.emails_created = true\n    },\n    getCourseName(teamid) { // TODO: should be agnostic from number of teams\n      if (teamid < 8) {\n        return \"Vorspeise\"\n      } else if (teamid >= 8 && teamid < 15) {\n        return \"Hauptspeise\"\n      } else {\n        return \"Nachspeise\"\n      }\n    },\n    getTeamPartner(person){\n      let partner = null\n      this.csv.forEach(e => {\n        if (e.teamId == person.teamId && e.kitchenUsed != person.kitchenUsed){\n          partner = e\n        }\n      })\n      return partner\n    },\n    getPersonWithTeamId(teamId){\n      let partner = null\n      this.csv.forEach(e => {\n        if (e.teamId == teamId && e.kitchenUsed == \"Ja\"){\n          partner = e\n        }\n      })\n      return partner\n    }\n  },\n  mounted: function() {\n    if (this.$store.state.csv) {\n      this.csv = this.$store.state.csv;\n    }\n  }\n}\n</script>\n\n<style scoped>\n.button {\n  display: inline-block;\n}\n</style>\n"]}]}